<form [formGroup]="diaryEntryForm"
      (submit)="onSubmit()">
  <mat-form-field appearance="outline">
    <mat-label>Еда:</mat-label>

    <input #foodInputElem
           type="text"
           matInput
           formControlName="foodName"
           required
           [matAutocomplete]="autoGroup" />

    <button *ngIf="isFormValid()"
            mat-icon-button
            matSuffix
            type="button"
            (click)="onFoodSelect()">
      <mat-icon>close</mat-icon>
    </button>

    <mat-autocomplete #autoGroup="matAutocomplete"
                      (optionSelected)="onFoodSelected($event)">
      <mat-option *ngFor="let food of filteredCatalogue$ | async"
                  [value]="food.name">
        {{ food.name }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Вес в граммах:</mat-label>

    <input #weightInputElem
           matInput
           class="text-right"
           formControlName="foodWeight" />

    <span matSuffix
          class="mx-2">
      г.
    </span>
  </mat-form-field>

  <div class="flex flex-row-reverse w-full">
    <button mat-raised-button
            type="submit"
            color="primary"
            class="mat-button-enlarged-45-px text-lg"
            [disabled]="!isFormValid()">
      Добавить
    </button>
  </div>
</form>
